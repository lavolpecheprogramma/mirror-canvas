<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
		html,body,#main{
			margin: 0;
			padding: 0;
			height: 100%;
			width: 100%;
			overflow: hidden;
			background-color: #1D7E8B;
			cursor: pointer !important;
		}
		canvas{
			border: 1px solid rgba(255,255,255,0.2);
		}
		.disable{
			display: none;
		}
	</style>
</head>

<body>
	<div id="main"></div>

	<!-- <canvas id="canvas"></canvas>-->
	<script type="text/javascript" src="./dat.gui.js"></script>	
	<script type="text/javascript" src="./main.js"></script>

	<script>
		/*
		var row = 0, column = 0;
		var target = null;
		var flag = false,
        prevX = 0,
        currX = 0,
        prevY = 0,
        currY = 0,
        stroke = 5;

	    var x = "black",
	        y = 2;

	    var currentCanvas = null;

		var dimCanvas = window.innerWidth / 4;
		var allCanvas = [];

		var c = document.getElementById("canvas");
		var ctx = c.getContext("2d");
		

		c.width  = dimCanvas;
		c.height = dimCanvas; 
		c.style.width  = dimCanvas+'px';
		c.style.height =  dimCanvas+'px';

		function setPositionCanvas(canv, x, y){
			canv.style.position = "absolute";
			canv.style.left = x+"px";
			canv.style.top = y+"px";
			if(column % 2){
				if (row % 2) {
					canv.style.transform = "scale(1,-1)"
				}else{
					canv.style.transform = "scale(-1,1)"
				}
			}else{
				if (row % 2) {
					canv.style.transform = "scale(-1,-1)"
				}else{
					canv.style.transform = "scale(1,1)"
				}
			}
		}

		function fillWindow(){
			var point = { x: 0, y: 0};
			var endPoint = { x: window.innerWidth, y: window.innerHeight};

			setPositionCanvas(c, 0, 0);
			allCanvas.push(c);

			while( point.y < endPoint.y ){
				var canv = c.cloneNode();
				canv.id = "";
				canv.className = "clone";
				column++;
				point.x = point.x+dimCanvas;

				if(point.x > window.innerWidth){
					
					point.x = 0;
					point.y = point.y+dimCanvas;
					row++;
				}
				
				if(point.y > window.innerHeight){
					return;
				}

				setPositionCanvas(canv, point.x, point.y);
				document.body.appendChild(canv)
				canv.row = row;
				canv.column = column;
				allCanvas.push(canv);
			}
		}

		function draw(e) {
			for (var i = 0; i < allCanvas.length; i++) {
				var context = allCanvas[i].getContext("2d");
				context.beginPath();
				var points = {
					start:{
						x: prevX,
						y: prevY
					},
					end:{
						x: currX,
						y: currY
					}
				}
				if(Math.abs(points.start.x - points.end.x) > 150){
					points.end.x = points.start.x;
				}

				if(Math.abs(points.start.y - points.end.y) > 150){
					points.end.y = points.start.y;
				}

				context.moveTo(points.start.x, points.start.y);
				context.lineTo(points.end.x, points.end.y);

				context.lineCap = 'round';
				context.fillStyle = '#23cae0';
				context.strokeStyle = '#23cae0';
				context.lineWidth = stroke;
				context.stroke();
				context.closePath();
			}
		}

		fillWindow();


		window.addEventListener("mousedown", onStart, false);
		window.addEventListener("mousemove", onMove, false);
		window.addEventListener("mouseup", onEnd, false);


		function calculateCoord(trg, x, y){

			var col = parseInt(x / dimCanvas);
			var row = parseInt(y / dimCanvas);

			prevX = currX;
			prevY = currY;
			if(x > dimCanvas){
				x = x%dimCanvas;

			}

			if(y > dimCanvas){
				y = y%dimCanvas;
			}

			if (row % 2) {
				if(col % 2){
					y =  dimCanvas - y;
					x =  dimCanvas - x;
				}else{
					y =  dimCanvas - y;
				}
			}else{
				if(col % 2){
					x =  dimCanvas - x;
				}
			}			

			console.log('prevX, x, prevY, y',prevX, x, prevY, y);

			return{
				x:x,
				y:y
			}
		}

		function onStart(e){
			var max = 10;
			var min = 5;
			var values = calculateCoord(e.target, e.clientX, e.clientY);
			stroke = Math.floor(Math.random() * (max - min + 1)) + min;;
			currX = values.x;
			currY = values.y;
			prevX = currX;
			prevY = currY;
			flag = true;

		}
		function onMove(e){

			if (flag) {
				var values = calculateCoord(e.target, e.clientX, e.clientY);

				currX = values.x;
				currY = values.y;
				draw();
			}
		}
		function onEnd(e){
			flag = false;
		}
	*/


	</script>
</body>
</html>